"0","hotels <- hotels %>%"
"0","  mutate("
"0","    is_canceled = as.factor(is_canceled),"
"0","    adr = as.numeric(adr),"
"0","    hotel = as.factor(hotel),"
"0","    numinfants = (children + babies),"
"0","    numinfants = as.integer(numinfants),"
"0","    numinfants = case_when("
"0","      is.na(numinfants) ~ 0,"
"0","      TRUE ~ as.numeric(numinfants)"
"0","    ),"
"0","    infants = case_when("
"0","      numinfants > 0 ~ ""yes"","
"0","      numinfants == 0 ~ ""no"""
"0","    ),"
"0","    infants = as.factor(infants),"
"0","    length_stay = (stays_in_weekend_nights + stays_in_week_nights),"
"0","    length_stay = as.integer(length_stay),"
"0","    origin = case_when("
"0","      country == ""PRT"" ~ ""domestic"","
"0","      TRUE ~ ""international""),"
"0","    is_repeated_guest = as.factor(is_repeated_guest),"
"0","    season = case_when("
"0","      arrival_date_month == ""January"" | arrival_date_month == ""February"" | "
"0","        arrival_date_month == ""December"" ~ ""Winter"","
"0","      arrival_date_month == ""March"" | arrival_date_month == ""April"" | "
"0","        arrival_date_month == ""May"" ~ ""Spring"","
"0","      arrival_date_month == ""June"" | arrival_date_month == ""July"" | "
"0","        arrival_date_month == ""August"" ~ ""Summer"","
"0","      arrival_date_month == ""September"" | arrival_date_month == ""October"" | "
"0","        arrival_date_month == ""November"" ~ ""Fall""),"
"0","    season = fct_relevel(season, ""Spring"", ""Summer"", ""Fall"", ""Winter""),"
"0","    lead_time_squared = `^`(lead_time,2),"
"0","    changed = case_when("
"0","      booking_changes > 0 ~ ""yes"","
"0","      booking_changes == 0 ~ ""no"""
"0","    ),"
"0","    changes = as.factor(changed),"
"0","    prior_cancellation = case_when("
"0","      previous_cancellations > 0 ~ ""yes"","
"0","      previous_cancellations == 0 ~ ""no"""
"0","    ),"
"0","    prior_cancellation = as.factor(prior_cancellation)"
"0","  ) %>%"
"0","  filter(market_segment != ""Undefined"")"
"0",""
"0","glimpse(hotels)"
"1","Observations: 119,388
"
"1","Variables: 41
"
"1","$ hotel                          [3m[38;5;246m<fct>[39m[23m Resort Hotel, Resort Hotel, Resort Hotel, Resort Hotel, Resort Hotel, Resort Hotel, Resort Hotel, Râ€¦
"
"1",""
"1","$ is_canceled                    [3m[38;5;246m<fct>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, â€¦
"
"1",""
"1","$ lead_time                      [3m[38;5;246m<dbl>[39m[23m 342, 737, 7, 13, 14, 14, 0, 9, 85, 75, 23, 35, 68, 18, 37, 68, 37, 12, 0, 7, 37, 72, 72, 72, 127, 7â€¦
"
"1",""
"1","$ arrival_date_year              [3m[38;5;246m<dbl>[39m[23m 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 201â€¦
"
"1",""
"1","$ arrival_date_month             [3m[38;5;246m<chr>[39m[23m ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""July"", ""Juâ€¦
"
"1",""
"1","$ arrival_date_week_number       [3m[38;5;246m<dbl>[39m[23m 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27,â€¦
"
"1",""
"1","$ arrival_date_day_of_month      [3m[38;5;246m<dbl>[39m[23m 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦
"
"1",""
"1","$ stays_in_weekend_nights        [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 2, â€¦
"
"1",""
"1","$ stays_in_week_nights           [3m[38;5;246m<dbl>[39m[23m 0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 4, 4, 4, 4, 4, 4, 4, 1, 1, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 10, 11, 8â€¦
"
"1",""
"1","$ adults                         [3m[38;5;246m<dbl>[39m[23m 2, 2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, â€¦
"
"1",""
"1","$ children                       [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ babies                         [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ meal                           [3m[38;5;246m<chr>[39m[23m ""BB"", ""BB"", ""BB"", ""BB"", ""BB"", ""BB"", ""BB"", ""FB"", ""BB"", ""HB"", ""BB"", ""HB"", ""BB"", ""HB"", ""BB"", ""BB"", ""BBâ€¦
"
"1",""
"1","$ country                        [3m[38;5;246m<chr>[39m[23m ""PRT"", ""PRT"", ""GBR"", ""GBR"", ""GBR"", ""GBR"", ""PRT"", ""PRT"", ""PRT"", ""PRT"", ""PRT"", ""PRT"", ""USA"", ""ESP"", ""â€¦
"
"1",""
"1","$ market_segment                 [3m[38;5;246m<chr>[39m[23m ""Direct"", ""Direct"", ""Direct"", ""Corporate"", ""Online TA"", ""Online TA"", ""Direct"", ""Direct"", ""Online TAâ€¦
"
"1",""
"1","$ distribution_channel           [3m[38;5;246m<chr>[39m[23m ""Direct"", ""Direct"", ""Direct"", ""Corporate"", ""TA/TO"", ""TA/TO"", ""Direct"", ""Direct"", ""TA/TO"", ""TA/TO"", â€¦
"
"1",""
"1","$ is_repeated_guest              [3m[38;5;246m<fct>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ previous_cancellations         [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ previous_bookings_not_canceled [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ reserved_room_type             [3m[38;5;246m<chr>[39m[23m ""C"", ""C"", ""A"", ""A"", ""A"", ""A"", ""C"", ""C"", ""A"", ""D"", ""E"", ""D"", ""D"", ""G"", ""E"", ""D"", ""E"", ""A"", ""A"", ""G"",â€¦
"
"1",""
"1","$ assigned_room_type             [3m[38;5;246m<chr>[39m[23m ""C"", ""C"", ""C"", ""A"", ""A"", ""A"", ""C"", ""C"", ""A"", ""D"", ""E"", ""D"", ""E"", ""G"", ""E"", ""E"", ""E"", ""E"", ""G"", ""G"",â€¦
"
"1",""
"1","$ booking_changes                [3m[38;5;246m<dbl>[39m[23m 3, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 2, 0, 0, â€¦
"
"1",""
"1","$ deposit_type                   [3m[38;5;246m<chr>[39m[23m ""No Deposit"", ""No Deposit"", ""No Deposit"", ""No Deposit"", ""No Deposit"", ""No Deposit"", ""No Deposit"", ""â€¦
"
"1",""
"1","$ agent                          [3m[38;5;246m<chr>[39m[23m ""NULL"", ""NULL"", ""NULL"", ""304"", ""240"", ""240"", ""NULL"", ""303"", ""240"", ""15"", ""240"", ""240"", ""240"", ""241""â€¦
"
"1",""
"1","$ company                        [3m[38;5;246m<chr>[39m[23m ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NULL"", ""NUâ€¦
"
"1",""
"1","$ days_in_waiting_list           [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ customer_type                  [3m[38;5;246m<chr>[39m[23m ""Transient"", ""Transient"", ""Transient"", ""Transient"", ""Transient"", ""Transient"", ""Transient"", ""Transieâ€¦
"
"1",""
"1","$ adr                            [3m[38;5;246m<dbl>[39m[23m 0.00, 0.00, 75.00, 75.00, 98.00, 98.00, 107.00, 103.00, 82.00, 105.50, 123.00, 145.00, 97.00, 154.7â€¦
"
"1",""
"1","$ required_car_parking_spaces    [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, â€¦
"
"1",""
"1","$ total_of_special_requests      [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 3, 1, 0, 3, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 2, 0, 1, 2, 0, 2, â€¦
"
"1",""
"1","$ reservation_status             [3m[38;5;246m<chr>[39m[23m ""Check-Out"", ""Check-Out"", ""Check-Out"", ""Check-Out"", ""Check-Out"", ""Check-Out"", ""Check-Out"", ""Check-Oâ€¦
"
"1",""
"1","$ reservation_status_date        [3m[38;5;246m<date>[39m[23m 2015-07-01, 2015-07-01, 2015-07-02, 2015-07-02, 2015-07-03, 2015-07-03, 2015-07-03, 2015-07-03, 20â€¦
"
"1",""
"1","$ numinfants                     [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
"
"1",""
"1","$ infants                        [3m[38;5;246m<fct>[39m[23m no, no, no, no, no, no, no, no, no, no, no, no, no, yes, no, no, no, no, no, no, no, no, no, no, noâ€¦
"
"1",""
"1","$ length_stay                    [3m[38;5;246m<int>[39m[23m 0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 4, 4, 4, 4, 4, 4, 4, 1, 1, 4, 5, 6, 6, 6, 7, 7, 7, 7, 7, 7, 14, 15, 1â€¦
"
"1",""
"1","$ origin                         [3m[38;5;246m<chr>[39m[23m ""domestic"", ""domestic"", ""international"", ""international"", ""international"", ""international"", ""domestâ€¦
"
"1",""
"1","$ season                         [3m[38;5;246m<fct>[39m[23m Summer, Summer, Summer, Summer, Summer, Summer, Summer, Summer, Summer, Summer, Summer, Summer, Sumâ€¦
"
"1",""
"1","$ lead_time_squared              [3m[38;5;246m<dbl>[39m[23m 116964, 543169, 49, 169, 196, 196, 0, 81, 7225, 5625, 529, 1225, 4624, 324, 1369, 4624, 1369, 144, â€¦
"
"1",""
"1","$ changed                        [3m[38;5;246m<chr>[39m[23m ""yes"", ""yes"", ""no"", ""no"", ""no"", ""no"", ""no"", ""no"", ""no"", ""no"", ""no"", ""no"", ""no"", ""yes"", ""no"", ""no"", â€¦
"
"1",""
"1","$ changes                        [3m[38;5;246m<fct>[39m[23m yes, yes, no, no, no, no, no, no, no, no, no, no, no, yes, no, no, no, no, no, no, no, yes, yes, yeâ€¦
"
"1",""
"1","$ prior_cancellation             [3m[38;5;246m<fct>[39m[23m no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, no,â€¦
"
